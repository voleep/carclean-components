:host {
  flex: 1;
  align-self: flex-end;
  overflow: hidden;

  .tab-close-wrapper {
    z-index: 10;
    position: absolute;
    top: 2px;
    right: -30px;
    height: 20px;
    width: 20px;
    overflow: hidden;

    button {
      height: inherit;
      width: inherit;
      padding: 0;
      color: var(--mat-tab-header-active-label-text-color);

      mat-icon {
        width: inherit;
        line-height: 20px;
        font-size: 18px;
        opacity: 0.8;
      }
    }
  }

  .mat-mdc-tab-nav-bar ::ng-deep {
    --mat-tab-header-divider-height: 0px;
    z-index: 0;

    .mat-mdc-tab-link,
    .mat-mdc-tab-ripple,
    .mdc-tab__ripple::before {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }

    .mat-mdc-tab-links {
      column-gap: 1px;
    }

    .mat-mdc-tab-link.car-tab-nav-bar-link__pinned {
      padding: 0 16px;
    }

    .mat-mdc-tab-link {
      min-width: unset;
      padding: 0 32px;

      &.mdc-tab--active {
        background-color: var(--mat-tab-header-active-background-color);
      }

      &:not(:hover) .tab-close-wrapper {
        display: none;
      }

      &:not(:has(+ :hover)):not(:has(+ .mdc-tab--active)):not(
          .mdc-tab--active
        ):not(:last-child):not(:hover)::after {
        content: "";
        position: absolute;
        height: 16px;
        width: 1px;
        background-color: var(--mat-sidenav-container-divider-color);
        top: 50%;
        right: -1px;
        opacity: 0.1;
        border-radius: 2px;
        transform: translateY(-50%);
      }
    }
  }
}

::ng-deep body {
  .car-tab-nav-bar__drag-preview {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
    backdrop-filter: blur(20px);
    box-shadow:
      0 5px 5px -3px rgba(0, 0, 0, 0.2),
      0 8px 10px 1px rgba(0, 0, 0, 0.14),
      0 3px 14px 2px rgba(0, 0, 0, 0.12);

    .tab-close-wrapper {
      display: none;
    }

    &.cdk-drag-animating {
      transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
    }
  }

  .car-tab-nav-bar-list.cdk-drop-list-dragging .car-tab-nav-bar-link {
    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
  }
}
